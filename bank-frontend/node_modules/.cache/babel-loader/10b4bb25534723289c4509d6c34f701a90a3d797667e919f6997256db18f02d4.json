{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mx-auto p-4\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"text-2xl font-bold text-gray-800 text-center mb-6\"\n}, \"Créer un Nouveau Compte\", -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"w-full max-w-sm mx-auto\"\n};\nconst _hoisted_4 = {\n  class: \"mb-4\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"block text-gray-700 text-sm font-bold mb-2\",\n  for: \"account-name\"\n}, \" Nom du Compte \", -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"mb-4\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"block text-gray-700 text-sm font-bold mb-2\",\n  for: \"initial-balance\"\n}, \" Solde Initial \", -1 /* HOISTED */);\nconst _hoisted_8 = {\n  class: \"mb-6\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"block text-gray-700 text-sm font-bold mb-2\",\n  for: \"currency\"\n}, \" Devise \", -1 /* HOISTED */);\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"EUR\"\n}, \"EUR\", -1 /* HOISTED */);\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"USD\"\n}, \"USD\", -1 /* HOISTED */);\nconst _hoisted_12 = [_hoisted_10, _hoisted_11];\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"flex items-center justify-between\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",\n  type: \"submit\"\n}, \" Créer \")], -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"form\", {\n    onSubmit: _cache[3] || (_cache[3] = _withModifiers((...args) => $options.createAccount && $options.createAccount(...args), [\"prevent\"])),\n    class: \"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\"\n  }, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.accountData.accountName = $event),\n    type: \"text\",\n    placeholder: \"Nom du Compte\",\n    class: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n    id: \"account-name\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.accountData.accountName]])]), _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.accountData.balance = $event),\n    type: \"number\",\n    placeholder: \"Solde Initial\",\n    class: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\",\n    id: \"initial-balance\",\n    required: \"\",\n    min: \"0\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.accountData.balance, void 0, {\n    number: true\n  }]])]), _createElementVNode(\"div\", _hoisted_8, [_hoisted_9, _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.accountData.currency = $event),\n    class: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n    id: \"currency\",\n    required: \"\"\n  }, [..._hoisted_12], 512 /* NEED_PATCH */), [[_vModelSelect, $data.accountData.currency]])]), _hoisted_13], 32 /* HYDRATE_EVENTS */)])]);\n}","map":{"version":3,"names":["class","_createElementVNode","for","value","_hoisted_10","_hoisted_11","type","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onSubmit","_cache","_withModifiers","args","$options","createAccount","_hoisted_4","_hoisted_5","$data","accountData","accountName","$event","placeholder","id","required","_hoisted_6","_hoisted_7","balance","min","_hoisted_8","_hoisted_9","currency","_hoisted_13"],"sources":["/Users/djahnickefrei/monProjet/bank-frontend/src/components/AccountForm.vue"],"sourcesContent":["<template>\n  <div class=\"container mx-auto p-4\">\n    <h2 class=\"text-2xl font-bold text-gray-800 text-center mb-6\">Créer un Nouveau Compte</h2>\n    <div class=\"w-full max-w-sm mx-auto\">\n      <form @submit.prevent=\"createAccount\" class=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\">\n        <div class=\"mb-4\">\n          <label class=\"block text-gray-700 text-sm font-bold mb-2\" for=\"account-name\">\n            Nom du Compte\n          </label>\n          <input v-model=\"accountData.accountName\" type=\"text\" placeholder=\"Nom du Compte\"\n                 class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                 id=\"account-name\" required>\n        </div>\n        <div class=\"mb-4\">\n          <label class=\"block text-gray-700 text-sm font-bold mb-2\" for=\"initial-balance\">\n            Solde Initial\n          </label>\n          <input v-model.number=\"accountData.balance\" type=\"number\" placeholder=\"Solde Initial\"\n                 class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\"\n                 id=\"initial-balance\" required min=\"0\">\n        </div>\n        <div class=\"mb-6\">\n    <label class=\"block text-gray-700 text-sm font-bold mb-2\" for=\"currency\">\n      Devise\n    </label>\n    <select v-model=\"accountData.currency\" class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" id=\"currency\" required>\n      <option value=\"EUR\">EUR</option>\n      <option value=\"USD\">USD</option>\n    </select>\n  </div>\n        <div class=\"flex items-center justify-between\">\n          <button class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\" type=\"submit\">\n            Créer\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { useRouter } from 'vue-router'; // Import the useRouter function\nimport Swal from 'sweetalert2'; // Assurez-vous d'avoir installé SweetAlert2\n\nexport default {\n  name: 'AccountForm',\n  data() {\n    return {\n      accountData: {\n        accountName: '', // Assurez-vous que les clés correspondent aux v-model du template\n        balance: 0,\n        currency: 'EUR', // Initialiser avec une devise par défaut si nécessaire\n      },\n    };\n  },\n  methods: {\n    async createAccount() {\n      try {\n        const response = await axios.post('http://localhost:3000/accounts', this.accountData);\n        // Ici, intégrez le pop-up de confirmation\n        Swal.fire({\n          title: 'Compte créé avec succès!',\n          text: 'Voulez-vous aller à la page d\\'accueil?',\n          icon: 'success',\n          showCancelButton: true,\n          confirmButtonColor: '#3085d6',\n          cancelButtonColor: '#d33',\n          confirmButtonText: 'Oui, aller à l\\'accueil!'\n        }).then((result) => {\n          if (result.isConfirmed) {\n            // Utilisez this.$router pour accéder au routeur dans l'Options API\n            this.$router.push('/');\n          }\n        });\n      } catch (error) {\n        Swal.fire({\n          title: 'Erreur!',\n          text: 'La création du compte a échoué.',\n          icon: 'error',\n          confirmButtonText: 'OK'\n        });\n        console.error('Error creating account:', error);\n      }\n    }\n  },\n};\n</script>\n\n"],"mappings":";;EACOA,KAAK,EAAC;AAAuB;gCAChCC,mBAAA,CAA0F;EAAtFD,KAAK,EAAC;AAAmD,GAAC,yBAAuB;;EAChFA,KAAK,EAAC;AAAyB;;EAE3BA,KAAK,EAAC;AAAM;gCACfC,mBAAA,CAEQ;EAFDD,KAAK,EAAC,4CAA4C;EAACE,GAAG,EAAC;GAAe,iBAE7E;;EAKGF,KAAK,EAAC;AAAM;gCACfC,mBAAA,CAEQ;EAFDD,KAAK,EAAC,4CAA4C;EAACE,GAAG,EAAC;GAAkB,iBAEhF;;EAKGF,KAAK,EAAC;AAAM;gCACrBC,mBAAA,CAEQ;EAFDD,KAAK,EAAC,4CAA4C;EAACE,GAAG,EAAC;GAAW,UAEzE;iCAEED,mBAAA,CAAgC;EAAxBE,KAAK,EAAC;AAAK,GAAC,KAAG;iCACvBF,mBAAA,CAAgC;EAAxBE,KAAK,EAAC;AAAK,GAAC,KAAG;qBADvBC,WAAgC,EAChCC,WAAgC,C;iCAG9BJ,mBAAA,CAIM;EAJDD,KAAK,EAAC;AAAmC,I,aAC5CC,mBAAA,CAES;EAFDD,KAAK,EAAC,8GAA8G;EAACM,IAAI,EAAC;GAAS,SAE3I,E;;;uBAhCRC,mBAAA,CAoCM,OApCNC,UAoCM,GAnCJC,UAA0F,EAC1FR,mBAAA,CAiCM,OAjCNS,UAiCM,GAhCJT,mBAAA,CA+BO;IA/BAU,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,aAAA,IAAAD,QAAA,CAAAC,aAAA,IAAAF,IAAA,CAAa;IAAEd,KAAK,EAAC;MAC1CC,mBAAA,CAOM,OAPNgB,UAOM,GANJC,UAEQ,E,gBACRjB,mBAAA,CAEkC;+DAFlBkB,KAAA,CAAAC,WAAW,CAACC,WAAW,GAAAC,MAAA;IAAEhB,IAAI,EAAC,MAAM;IAACiB,WAAW,EAAC,eAAe;IACzEvB,KAAK,EAAC,4HAA4H;IAClIwB,EAAE,EAAC,cAAc;IAACC,QAAQ,EAAR;iDAFTN,KAAA,CAAAC,WAAW,CAACC,WAAW,E,KAIzCpB,mBAAA,CAOM,OAPNyB,UAOM,GANJC,UAEQ,E,gBACR1B,mBAAA,CAE6C;+DAFtBkB,KAAA,CAAAC,WAAW,CAACQ,OAAO,GAAAN,MAAA;IAAEhB,IAAI,EAAC,QAAQ;IAACiB,WAAW,EAAC,eAAe;IAC9EvB,KAAK,EAAC,iIAAiI;IACvIwB,EAAE,EAAC,iBAAiB;IAACC,QAAQ,EAAR,EAAQ;IAACI,GAAG,EAAC;iDAFlBV,KAAA,CAAAC,WAAW,CAACQ,OAAO,E;YAAnC;EAAoC,E,MAI7C3B,mBAAA,CAQA,OARA6B,UAQA,GAPJC,UAEQ,E,gBACR9B,mBAAA,CAGS;+DAHQkB,KAAA,CAAAC,WAAW,CAACY,QAAQ,GAAAV,MAAA;IAAEtB,KAAK,EAAC,4HAA4H;IAACwB,EAAE,EAAC,UAAU;IAACC,QAAQ,EAAR;+DAAvKN,KAAA,CAAAC,WAAW,CAACY,QAAQ,E,KAKjCC,WAIM,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}