{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-3e5c16c8\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container mx-auto p-4\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"text-2xl font-semibold mb-4\"\n}, \"Transactions\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  key: 0,\n  class: \"bg-white shadow-md rounded-lg overflow-hidden\"\n};\nconst _hoisted_4 = {\n  class: \"flex justify-between items-center\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"flex items-center space-x-4\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"p-2 inline-flex items-center justify-center text-green-500\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fas fa-arrow-down\"\n}), /*#__PURE__*/_createCommentVNode(\" Icone de revenu \")], -1 /* HOISTED */));\nconst _hoisted_7 = {\n  class: \"flex-1\"\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"text-sm font-semibold text-gray-600\"\n}, \"Revenu\", -1 /* HOISTED */));\nconst _hoisted_9 = {\n  class: \"text-gray-800\"\n};\nconst _hoisted_10 = {\n  class: \"text-gray-500 text-xs\"\n};\nconst _hoisted_11 = {\n  class: \"text-green-500 font-semibold\"\n};\nconst _hoisted_12 = [\"onClick\"];\nconst _hoisted_13 = [\"onClick\"];\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"flex-1\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_15 = {\n  key: 2,\n  class: \"flex items-center justify-end space-x-4\"\n};\nconst _hoisted_16 = {\n  class: \"text-red-500 font-semibold\"\n};\nconst _hoisted_17 = {\n  class: \"flex-1 text-right\"\n};\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"text-sm font-semibold text-gray-600\"\n}, \"Dépense\", -1 /* HOISTED */));\nconst _hoisted_19 = {\n  class: \"text-gray-800\"\n};\nconst _hoisted_20 = {\n  class: \"text-gray-500 text-xs\"\n};\nconst _hoisted_21 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"p-2 inline-flex items-center justify-center text-red-500\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fas fa-arrow-up\"\n}), /*#__PURE__*/_createCommentVNode(\" Icone de dépense \")], -1 /* HOISTED */));\nconst _hoisted_22 = [\"onClick\"];\nconst _hoisted_23 = [\"onClick\"];\nconst _hoisted_24 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"text-red-500\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_25 = {\n  key: 1,\n  class: \"text-center py-4\"\n};\nconst _hoisted_26 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"Aucune transaction disponible.\", -1 /* HOISTED */));\nconst _hoisted_27 = [_hoisted_26];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, $data.transactions.length ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.transactions, transaction => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: transaction.id,\n      class: \"px-6 py-4 border-b hover:bg-gray-100\"\n    }, [_createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\" Section pour Revenus \"), transaction.category === 'revenu' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_hoisted_6, _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _createElementVNode(\"p\", _hoisted_9, _toDisplayString(transaction.description), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_10, _toDisplayString($options.formatDate(transaction.date)), 1 /* TEXT */)]), _createElementVNode(\"span\", _hoisted_11, _toDisplayString($options.formatAmount(transaction.amount)), 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteTransaction(transaction.id),\n      class: \"text-red-600 hover:text-red-700\"\n    }, \"Supprimer\", 8 /* PROPS */, _hoisted_12), _createElementVNode(\"button\", {\n      onClick: $event => _ctx.startEditTransaction(transaction),\n      class: \"text-blue-600 hover:text-blue-700\"\n    }, \" Modifier \", 8 /* PROPS */, _hoisted_13)])) : (_openBlock(), _createElementBlock(_Fragment, {\n      key: 1\n    }, [_createCommentVNode(\" Placeholder quand il n'y a pas de revenu \"), _hoisted_14], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)), _createCommentVNode(\" Section pour Dépenses \"), transaction.category === 'dépense' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [_createElementVNode(\"span\", _hoisted_16, _toDisplayString($options.formatAmount(transaction.amount)), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_17, [_hoisted_18, _createElementVNode(\"p\", _hoisted_19, _toDisplayString(transaction.description), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_20, _toDisplayString($options.formatDate(transaction.date)), 1 /* TEXT */)]), _hoisted_21, _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteTransaction(transaction.id),\n      class: \"text-red-600 hover:text-red-700\"\n    }, \"Supprimer\", 8 /* PROPS */, _hoisted_22), _createElementVNode(\"button\", {\n      onClick: $event => _ctx.startEditTransaction(transaction),\n      class: \"text-blue-600 hover:text-blue-700\"\n    }, \" Modifier \", 8 /* PROPS */, _hoisted_23)])) : (_openBlock(), _createElementBlock(_Fragment, {\n      key: 3\n    }, [_createCommentVNode(\" Placeholder quand il n'y a pas de dépense \"), _hoisted_24], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))])]);\n  }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_25, [..._hoisted_27]))]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createCommentVNode","_hoisted_26","_createElementBlock","_hoisted_1","_hoisted_2","$data","transactions","length","_hoisted_3","_Fragment","_renderList","transaction","key","id","_hoisted_4","category","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_toDisplayString","description","_hoisted_10","$options","formatDate","date","_hoisted_11","formatAmount","amount","onClick","$event","deleteTransaction","_hoisted_12","_ctx","startEditTransaction","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_27"],"sources":["/Users/djahnickefrei/monProjet/bank-frontend/src/components/TransactionList.vue"],"sourcesContent":["<template>\n  <div class=\"container mx-auto p-4\">\n    <h2 class=\"text-2xl font-semibold mb-4\">Transactions</h2>\n    <ul v-if=\"transactions.length\" class=\"bg-white shadow-md rounded-lg overflow-hidden\">\n      <li v-for=\"transaction in transactions\" :key=\"transaction.id\" class=\"px-6 py-4 border-b hover:bg-gray-100\">\n        <div class=\"flex justify-between items-center\">\n          <!-- Section pour Revenus -->\n          <div v-if=\"transaction.category === 'revenu'\" class=\"flex items-center space-x-4\">\n            <span class=\"p-2 inline-flex items-center justify-center text-green-500\">\n              <i class=\"fas fa-arrow-down\"></i> <!-- Icone de revenu -->\n            </span>\n            <div class=\"flex-1\">\n              <p class=\"text-sm font-semibold text-gray-600\">Revenu</p>\n              <p class=\"text-gray-800\">{{ transaction.description }}</p>\n              <p class=\"text-gray-500 text-xs\">{{ formatDate(transaction.date) }}</p>\n            </div>\n            <span class=\"text-green-500 font-semibold\">{{ formatAmount(transaction.amount) }}</span>\n            <button @click=\"deleteTransaction(transaction.id)\" class=\"text-red-600 hover:text-red-700\">Supprimer</button>\n            <button @click=\"startEditTransaction(transaction)\" class=\"text-blue-600 hover:text-blue-700\">\n  Modifier\n</button>\n\n          </div>\n          \n          <!-- Placeholder quand il n'y a pas de revenu -->\n          <div v-else class=\"flex-1\"></div>\n          \n          <!-- Section pour Dépenses -->\n          <div v-if=\"transaction.category === 'dépense'\" class=\"flex items-center justify-end space-x-4\">\n            <span class=\"text-red-500 font-semibold\">{{ formatAmount(transaction.amount) }}</span>\n            <div class=\"flex-1 text-right\">\n              <p class=\"text-sm font-semibold text-gray-600\">Dépense</p>\n              <p class=\"text-gray-800\">{{ transaction.description }}</p>\n              <p class=\"text-gray-500 text-xs\">{{ formatDate(transaction.date) }}</p>\n            </div>\n            <span class=\"p-2 inline-flex items-center justify-center text-red-500\">\n              <i class=\"fas fa-arrow-up\"></i> <!-- Icone de dépense -->\n            </span>\n            <button @click=\"deleteTransaction(transaction.id)\" class=\"text-red-600 hover:text-red-700\">Supprimer</button>\n            <button @click=\"startEditTransaction(transaction)\" class=\"text-blue-600 hover:text-blue-700\">\n  Modifier\n</button>\n\n          </div>\n          \n          <!-- Placeholder quand il n'y a pas de dépense -->\n          <div v-else class=\"text-red-500\"></div>\n        </div>\n      </li>\n    </ul>\n    <div v-else class=\"text-center py-4\">\n      <p>Aucune transaction disponible.</p>\n    </div>\n    \n  </div>\n</template>\n\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'TransactionList',\n  props: {\n    accountId: {\n      type: Number,\n      required: true\n    }\n  },\n  data() {\n    return {\n      transactions: []\n    };\n  },\n  watch: {\n    accountId: {\n      immediate: true,\n      handler() {\n        this.fetchTransactions();\n      }\n    }\n  },\n  methods: {\n    async fetchTransactions() {\n      try {\n        const response = await axios.get(`http://localhost:3000/accounts/${this.accountId}/transactions`);\n        this.transactions = response.data;\n      } catch (error) {\n        console.error('Erreur lors de la récupération des transactions', error);\n      }\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleDateString('fr-FR');\n    },\n    formatAmount(amount) {\n      return new Intl.NumberFormat('fr-FR', { style: 'currency', currency: 'EUR' }).format(amount);\n    },\n    async deleteTransaction(transactionId) {\n    try {\n      await axios.delete(`http://localhost:3000/transactions/${transactionId}`);\n      this.transactions = this.transactions.filter(t => t.id !== transactionId);\n    } catch (error) {\n      console.error('Erreur lors de la suppression de la transaction', error);\n    }\n  },\n  }\n};\n</script>\n\n<style scoped>\n/* Tailwind classes are handling all the styling needs. If you have custom styles, you can add them here */\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}