{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-2e1e7ce2\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Détails du Compte\", -1 /* HOISTED */));\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \"Créer une Transaction\", -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"amount\"\n}, \"Montant:\", -1 /* HOISTED */));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"type\"\n}, \"Type:\", -1 /* HOISTED */));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"credit\"\n}, \"Crédit\", -1 /* HOISTED */));\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"debit\"\n}, \"Débit\", -1 /* HOISTED */));\nconst _hoisted_7 = [_hoisted_5, _hoisted_6];\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Soumettre la Transaction\", -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createElementVNode(\"p\", null, \"Nom du Compte: \" + _toDisplayString($data.accountDetails.accountName), 1 /* TEXT */), _createElementVNode(\"p\", null, \"Solde: \" + _toDisplayString($data.accountDetails.balance) + \" \" + _toDisplayString($data.accountDetails.currency), 1 /* TEXT */), _hoisted_2, _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.createTransaction && $options.createTransaction(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", null, [_hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    id: \"amount\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.transaction.amount = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.transaction.amount]])]), _createElementVNode(\"div\", null, [_hoisted_4, _withDirectives(_createElementVNode(\"select\", {\n    id: \"type\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.transaction.type = $event),\n    required: \"\"\n  }, [..._hoisted_7], 512 /* NEED_PATCH */), [[_vModelSelect, $data.transaction.type]])]), _hoisted_8], 32 /* HYDRATE_EVENTS */)]);\n}","map":{"version":3,"names":["_createElementVNode","for","value","_hoisted_5","_hoisted_6","type","_createElementBlock","_hoisted_1","_toDisplayString","$data","accountDetails","accountName","balance","currency","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","createTransaction","_hoisted_3","id","transaction","amount","$event","required","_hoisted_4","_hoisted_8"],"sources":["/Users/djahnickefrei/monProjet/bank-frontend/src/views/AccountDetails.vue"],"sourcesContent":["<template>\n    <div>\n      <h2>Détails du Compte</h2>\n      <p>Nom du Compte: {{ accountDetails.accountName }}</p>\n      <p>Solde: {{ accountDetails.balance }} {{ accountDetails.currency }}</p>\n  \n      <h3>Créer une Transaction</h3>\n      <form @submit.prevent=\"createTransaction\">\n        <div>\n          <label for=\"amount\">Montant:</label>\n          <input type=\"number\" id=\"amount\" v-model=\"transaction.amount\" required>\n        </div>\n        <div>\n          <label for=\"type\">Type:</label>\n          <select id=\"type\" v-model=\"transaction.type\" required>\n            <option value=\"credit\">Crédit</option>\n            <option value=\"debit\">Débit</option>\n          </select>\n        </div>\n        <button type=\"submit\">Soumettre la Transaction</button>\n      </form>\n    </div>\n  </template>\n  \n  <script>\n  import axios from 'axios';\n  \n  export default {\n    name: 'AccountDetails',\n    data() {\n      return {\n        accountDetails: {},\n        transaction: {\n          amount: 0,\n          type: 'credit' // ou 'debit'\n        }\n      };\n    },\n    async created() {\n      await this.fetchAccountDetails();\n    },\n    methods: {\n      async fetchAccountDetails() {\n        try {\n          const accountId = this.$route.params.id;\n          const response = await axios.get(`http://localhost:3000/accounts/accounts/${accountId}`);\n          this.accountDetails = response.data;\n        } catch (error) {\n          console.error('Erreur lors de la récupération des détails du compte', error);\n        }\n      },\n      async createTransaction() {\n  try {\n    const accountId = this.$route.params.id;\n    // Utilisez l'URL appropriée pour consulter les transactions du compte\n    await axios.post(`http://localhost:3000/accounts/${accountId}/transactions`, this.transaction);\n    alert('Transaction créée avec succès!');\n    this.transaction.amount = 0;\n    this.transaction.type = 'credit';\n    await this.fetchAccountDetails(); // Mise à jour des détails du compte après la transaction\n  } catch (error) {\n    console.error('Erreur lors de la création de la transaction', error);\n    alert('Erreur lors de la création de la transaction');\n  }\n}\n\n    }\n  };\n  </script>\n  \n  <style scoped>\n  /* Ajoutez du style si nécessaire */\n  </style>\n  "],"mappings":";;gEAEMA,mBAAA,CAA0B,YAAtB,mBAAiB;gEAIrBA,mBAAA,CAA8B,YAA1B,uBAAqB;gEAGrBA,mBAAA,CAAoC;EAA7BC,GAAG,EAAC;AAAQ,GAAC,UAAQ;gEAI5BD,mBAAA,CAA+B;EAAxBC,GAAG,EAAC;AAAM,GAAC,OAAK;gEAErBD,mBAAA,CAAsC;EAA9BE,KAAK,EAAC;AAAQ,GAAC,QAAM;gEAC7BF,mBAAA,CAAoC;EAA5BE,KAAK,EAAC;AAAO,GAAC,OAAK;oBAD3BC,UAAsC,EACtCC,UAAoC,C;gEAGxCJ,mBAAA,CAAuD;EAA/CK,IAAI,EAAC;AAAQ,GAAC,0BAAwB;;;uBAlBlDC,mBAAA,CAoBM,cAnBJC,UAA0B,EAC1BP,mBAAA,CAAsD,WAAnD,iBAAe,GAAAQ,gBAAA,CAAGC,KAAA,CAAAC,cAAc,CAACC,WAAW,kBAC/CX,mBAAA,CAAwE,WAArE,SAAO,GAAAQ,gBAAA,CAAGC,KAAA,CAAAC,cAAc,CAACE,OAAO,IAAG,GAAC,GAAAJ,gBAAA,CAAGC,KAAA,CAAAC,cAAc,CAACG,QAAQ,kBAEjEC,UAA8B,EAC9Bd,mBAAA,CAaO;IAbAe,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,iBAAA,IAAAD,QAAA,CAAAC,iBAAA,IAAAF,IAAA,CAAiB;MACtClB,mBAAA,CAGM,cAFJqB,UAAoC,E,gBACpCrB,mBAAA,CAAuE;IAAhEK,IAAI,EAAC,QAAQ;IAACiB,EAAE,EAAC,QAAQ;+DAAUb,KAAA,CAAAc,WAAW,CAACC,MAAM,GAAAC,MAAA;IAAEC,QAAQ,EAAR;iDAApBjB,KAAA,CAAAc,WAAW,CAACC,MAAM,E,KAE9DxB,mBAAA,CAMM,cALJ2B,UAA+B,E,gBAC/B3B,mBAAA,CAGS;IAHDsB,EAAE,EAAC,MAAM;+DAAUb,KAAA,CAAAc,WAAW,CAAClB,IAAI,GAAAoB,MAAA;IAAEC,QAAQ,EAAR;8DAAlBjB,KAAA,CAAAc,WAAW,CAAClB,IAAI,E,KAK7CuB,UAAuD,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}