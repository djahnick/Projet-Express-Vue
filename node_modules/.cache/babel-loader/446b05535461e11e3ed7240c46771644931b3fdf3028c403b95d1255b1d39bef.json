{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-3e5c16c8\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"text-2xl font-semibold mb-4\"\n}, \"Transactions\", -1 /* HOISTED */));\nconst _hoisted_2 = {\n  key: 0,\n  class: \"bg-white shadow-md rounded-lg overflow-hidden\"\n};\nconst _hoisted_3 = {\n  class: \"flex justify-between items-center\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"flex items-center space-x-4\"\n};\nconst _hoisted_5 = {\n  class: \"text-green-500\"\n};\nconst _hoisted_6 = {\n  class: \"flex-1\"\n};\nconst _hoisted_7 = {\n  class: \"text-green-500\"\n};\nconst _hoisted_8 = {\n  key: 1,\n  class: \"flex items-center justify-end space-x-4\"\n};\nconst _hoisted_9 = {\n  class: \"text-red-500\"\n};\nconst _hoisted_10 = {\n  class: \"flex-1 text-right\"\n};\nconst _hoisted_11 = {\n  key: 1,\n  class: \"text-center py-4\"\n};\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"Aucune transaction disponible.\", -1 /* HOISTED */));\nconst _hoisted_13 = [_hoisted_12];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, $data.transactions.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.transactions, transaction => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: transaction.id,\n      class: \"px-6 py-4 border-b hover:bg-gray-100\"\n    }, [_createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" Display income transactions \"), transaction.category === 'revenu' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"span\", _hoisted_5, _toDisplayString(transaction.description), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"p\", null, _toDisplayString($options.formatDate(transaction.date)), 1 /* TEXT */)]), _createElementVNode(\"span\", _hoisted_7, _toDisplayString($options.formatAmount(transaction.amount)), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Display expense transactions \"), transaction.category === 'dépense' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_createElementVNode(\"span\", _hoisted_9, _toDisplayString($options.formatAmount(transaction.amount)), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"p\", null, _toDisplayString(transaction.description), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString($options.formatDate(transaction.date)), 1 /* TEXT */)])])) : _createCommentVNode(\"v-if\", true)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [..._hoisted_13]))]);\n}","map":{"version":3,"names":["_createElementVNode","class","_hoisted_12","_createElementBlock","_hoisted_1","$data","transactions","length","_hoisted_2","_Fragment","_renderList","transaction","key","id","_hoisted_3","_createCommentVNode","category","_hoisted_4","_hoisted_5","_toDisplayString","description","_hoisted_6","$options","formatDate","date","_hoisted_7","formatAmount","amount","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_13"],"sources":["/Users/djahnickefrei/monProjet/bank-frontend/src/components/TransactionList.vue"],"sourcesContent":["<template>\n  <div>\n    <h2 class=\"text-2xl font-semibold mb-4\">Transactions</h2>\n    <div v-if=\"transactions.length\" class=\"bg-white shadow-md rounded-lg overflow-hidden\">\n      <ul>\n        <li v-for=\"transaction in transactions\" :key=\"transaction.id\" class=\"px-6 py-4 border-b hover:bg-gray-100\">\n          <div class=\"flex justify-between items-center\">\n            <!-- Display income transactions -->\n            <div v-if=\"transaction.category === 'revenu'\" class=\"flex items-center space-x-4\">\n              <span class=\"text-green-500\">{{ transaction.description }}</span>\n              <div class=\"flex-1\">\n                <p>{{ formatDate(transaction.date) }}</p>\n              </div>\n              <span class=\"text-green-500\">{{ formatAmount(transaction.amount) }}</span>\n            </div>\n            <!-- Display expense transactions -->\n            <div v-if=\"transaction.category === 'dépense'\" class=\"flex items-center justify-end space-x-4\">\n              <span class=\"text-red-500\">{{ formatAmount(transaction.amount) }}</span>\n              <div class=\"flex-1 text-right\">\n                <p>{{ transaction.description }}</p>\n                <p>{{ formatDate(transaction.date) }}</p>\n              </div>\n            </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n    <div v-else class=\"text-center py-4\">\n      <p>Aucune transaction disponible.</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'TransactionList',\n  props: {\n    accountId: {\n      type: Number,\n      required: true\n    }\n  },\n  data() {\n    return {\n      transactions: []\n    };\n  },\n  created() {\n    this.fetchTransactions();\n  },\n  methods: {\n    async fetchTransactions() {\n      try {\n        const response = await axios.get(`http://localhost:3000/accounts/${this.accountId}/transactions`);\n        this.transactions = response.data;\n      } catch (error) {\n        console.error('Erreur lors de la récupération des transactions', error);\n      }\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleDateString('fr-FR');\n    },\n    formatAmount(amount) {\n      return new Intl.NumberFormat('fr-FR', { style: 'currency', currency: 'EUR' }).format(amount);\n    },\n    async deleteTransaction(transactionId) {\n  try {\n    await axios.delete(`http://localhost:3000/accounts/${this.accountId}/transactions/${transactionId}`);\n    this.transactions = this.transactions.filter(t => t.id !== transactionId);\n    // Optionally, you could refetch the transactions list from the server\n    // this.fetchTransactions();\n  } catch (error) {\n    console.error('Erreur lors de la suppression de la transaction', error);\n  }\n}\n\n  }\n};\n</script>\n\n<style scoped>\n/* Tailwind classes are already in use, you might want to add custom styles if needed */\n</style>\n"],"mappings":";;gEAEIA,mBAAA,CAAyD;EAArDC,KAAK,EAAC;AAA6B,GAAC,cAAY;;;EACpBA,KAAK,EAAC;;;EAG3BA,KAAK,EAAC;AAAmC;;;EAEEA,KAAK,EAAC;;;EAC5CA,KAAK,EAAC;AAAgB;;EACvBA,KAAK,EAAC;AAAQ;;EAGbA,KAAK,EAAC;AAAgB;;;EAGiBA,KAAK,EAAC;;;EAC7CA,KAAK,EAAC;AAAc;;EACrBA,KAAK,EAAC;AAAmB;;;EAS5BA,KAAK,EAAC;;iEAChBD,mBAAA,CAAqC,WAAlC,gCAA8B;qBAAjCE,WAAqC,C;;uBA3BzCC,mBAAA,CA6BM,cA5BJC,UAAyD,EAC9CC,KAAA,CAAAC,YAAY,CAACC,MAAM,I,cAA9BJ,mBAAA,CAuBM,OAvBNK,UAuBM,GAtBJR,mBAAA,CAqBK,c,kBApBHG,mBAAA,CAmBKM,SAAA,QAAAC,WAAA,CAnBqBL,KAAA,CAAAC,YAAY,EAA3BK,WAAW;yBAAtBR,mBAAA,CAmBK;MAnBoCS,GAAG,EAAED,WAAW,CAACE,EAAE;MAAEZ,KAAK,EAAC;QAClED,mBAAA,CAiBM,OAjBNc,UAiBM,GAhBJC,mBAAA,iCAAoC,EACzBJ,WAAW,CAACK,QAAQ,iB,cAA/Bb,mBAAA,CAMM,OANNc,UAMM,GALJjB,mBAAA,CAAiE,QAAjEkB,UAAiE,EAAAC,gBAAA,CAAjCR,WAAW,CAACS,WAAW,kBACvDpB,mBAAA,CAEM,OAFNqB,UAEM,GADJrB,mBAAA,CAAyC,WAAAmB,gBAAA,CAAnCG,QAAA,CAAAC,UAAU,CAACZ,WAAW,CAACa,IAAI,kB,GAEnCxB,mBAAA,CAA0E,QAA1EyB,UAA0E,EAAAN,gBAAA,CAA1CG,QAAA,CAAAI,YAAY,CAACf,WAAW,CAACgB,MAAM,kB,wCAEjEZ,mBAAA,kCAAqC,EAC1BJ,WAAW,CAACK,QAAQ,kB,cAA/Bb,mBAAA,CAMM,OANNyB,UAMM,GALJ5B,mBAAA,CAAwE,QAAxE6B,UAAwE,EAAAV,gBAAA,CAA1CG,QAAA,CAAAI,YAAY,CAACf,WAAW,CAACgB,MAAM,mBAC7D3B,mBAAA,CAGM,OAHN8B,WAGM,GAFJ9B,mBAAA,CAAoC,WAAAmB,gBAAA,CAA9BR,WAAW,CAACS,WAAW,kBAC7BpB,mBAAA,CAAyC,WAAAmB,gBAAA,CAAnCG,QAAA,CAAAC,UAAU,CAACZ,WAAW,CAACa,IAAI,kB;uDAO7CrB,mBAAA,CAEM,OAFN4B,WAEM,MAAAC,WAAA,I"},"metadata":{},"sourceType":"module","externalDependencies":[]}