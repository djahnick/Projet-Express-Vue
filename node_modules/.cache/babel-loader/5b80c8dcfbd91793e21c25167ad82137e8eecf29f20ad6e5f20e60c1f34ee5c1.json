{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport { useRouter } from 'vue-router'; // Import the useRouter function\nimport Swal from 'sweetalert2'; // Assurez-vous d'avoir installé SweetAlert2\n\nexport default {\n  name: 'AccountForm',\n  data() {\n    return {\n      accountData: {\n        accountName: '',\n        // Assurez-vous que les clés correspondent aux v-model du template\n        balance: 0,\n        currency: 'EUR' // Initialiser avec une devise par défaut si nécessaire\n      }\n    };\n  },\n\n  methods: {\n    async createAccount() {\n      try {\n        const response = await axios.post('http://localhost:3000/accounts', this.accountData);\n        // Ici, intégrez le pop-up de confirmation\n        Swal.fire({\n          title: 'Compte créé avec succès!',\n          text: 'Voulez-vous aller à la page d\\'accueil?',\n          icon: 'success',\n          showCancelButton: true,\n          confirmButtonColor: '#3085d6',\n          cancelButtonColor: '#d33',\n          confirmButtonText: 'Oui, aller à l\\'accueil!'\n        }).then(result => {\n          if (result.isConfirmed) {\n            // Utilisez this.$router pour accéder au routeur dans l'Options API\n            this.$router.push('/');\n          }\n        });\n      } catch (error) {\n        Swal.fire({\n          title: 'Erreur!',\n          text: 'La création du compte a échoué.',\n          icon: 'error',\n          confirmButtonText: 'OK'\n        });\n        console.error('Error creating account:', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","useRouter","Swal","name","data","accountData","accountName","balance","currency","methods","createAccount","response","post","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","$router","push","error","console"],"sources":["/Users/djahnickefrei/monProjet/bank-frontend/src/components/AccountForm.vue"],"sourcesContent":["<template>\n  <div class=\"container mx-auto p-4\">\n    <h2 class=\"text-2xl font-bold text-gray-800 text-center mb-6\">Créer un Nouveau Compte</h2>\n    <div class=\"w-full max-w-sm mx-auto\">\n      <form @submit.prevent=\"createAccount\" class=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\">\n        <div class=\"mb-4\">\n          <label class=\"block text-gray-700 text-sm font-bold mb-2\" for=\"account-name\">\n            Nom du Compte\n          </label>\n          <input v-model=\"accountData.accountName\" type=\"text\" placeholder=\"Nom du Compte\"\n                 class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                 id=\"account-name\" required>\n        </div>\n        <div class=\"mb-4\">\n          <label class=\"block text-gray-700 text-sm font-bold mb-2\" for=\"initial-balance\">\n            Solde Initial\n          </label>\n          <input v-model.number=\"accountData.balance\" type=\"number\" placeholder=\"Solde Initial\"\n                 class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\"\n                 id=\"initial-balance\" required min=\"0\">\n        </div>\n        <div class=\"mb-6\">\n    <label class=\"block text-gray-700 text-sm font-bold mb-2\" for=\"currency\">\n      Devise\n    </label>\n    <select v-model=\"accountData.currency\" class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" id=\"currency\" required>\n      <option value=\"EUR\">EUR</option>\n      <option value=\"USD\">USD</option>\n    </select>\n  </div>\n        <div class=\"flex items-center justify-between\">\n          <button class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\" type=\"submit\">\n            Créer\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { useRouter } from 'vue-router'; // Import the useRouter function\nimport Swal from 'sweetalert2'; // Assurez-vous d'avoir installé SweetAlert2\n\nexport default {\n  name: 'AccountForm',\n  data() {\n    return {\n      accountData: {\n        accountName: '', // Assurez-vous que les clés correspondent aux v-model du template\n        balance: 0,\n        currency: 'EUR', // Initialiser avec une devise par défaut si nécessaire\n      },\n    };\n  },\n  methods: {\n    async createAccount() {\n      try {\n        const response = await axios.post('http://localhost:3000/accounts', this.accountData);\n        // Ici, intégrez le pop-up de confirmation\n        Swal.fire({\n          title: 'Compte créé avec succès!',\n          text: 'Voulez-vous aller à la page d\\'accueil?',\n          icon: 'success',\n          showCancelButton: true,\n          confirmButtonColor: '#3085d6',\n          cancelButtonColor: '#d33',\n          confirmButtonText: 'Oui, aller à l\\'accueil!'\n        }).then((result) => {\n          if (result.isConfirmed) {\n            // Utilisez this.$router pour accéder au routeur dans l'Options API\n            this.$router.push('/');\n          }\n        });\n      } catch (error) {\n        Swal.fire({\n          title: 'Erreur!',\n          text: 'La création du compte a échoué.',\n          icon: 'error',\n          confirmButtonText: 'OK'\n        });\n        console.error('Error creating account:', error);\n      }\n    }\n  },\n};\n</script>\n\n"],"mappings":";AAyCA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,SAAQ,QAAS,YAAY,EAAE;AACxC,OAAOC,IAAG,MAAO,aAAa,EAAE;;AAEhC,eAAe;EACbC,IAAI,EAAE,aAAa;EACnBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,WAAW,EAAE;QACXC,WAAW,EAAE,EAAE;QAAE;QACjBC,OAAO,EAAE,CAAC;QACVC,QAAQ,EAAE,KAAK,CAAE;MACnB;IACF,CAAC;EACH,CAAC;;EACDC,OAAO,EAAE;IACP,MAAMC,aAAaA,CAAA,EAAG;MACpB,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMX,KAAK,CAACY,IAAI,CAAC,gCAAgC,EAAE,IAAI,CAACP,WAAW,CAAC;QACrF;QACAH,IAAI,CAACW,IAAI,CAAC;UACRC,KAAK,EAAE,0BAA0B;UACjCC,IAAI,EAAE,yCAAyC;UAC/CC,IAAI,EAAE,SAAS;UACfC,gBAAgB,EAAE,IAAI;UACtBC,kBAAkB,EAAE,SAAS;UAC7BC,iBAAiB,EAAE,MAAM;UACzBC,iBAAiB,EAAE;QACrB,CAAC,CAAC,CAACC,IAAI,CAAEC,MAAM,IAAK;UAClB,IAAIA,MAAM,CAACC,WAAW,EAAE;YACtB;YACA,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;UACxB;QACF,CAAC,CAAC;MACJ,EAAE,OAAOC,KAAK,EAAE;QACdxB,IAAI,CAACW,IAAI,CAAC;UACRC,KAAK,EAAE,SAAS;UAChBC,IAAI,EAAE,iCAAiC;UACvCC,IAAI,EAAE,OAAO;UACbI,iBAAiB,EAAE;QACrB,CAAC,CAAC;QACFO,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MACjD;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}